import{d as C,T as I,c as p,w as s,o as n,a,b as r,t as l,u as e,_ as i,e as v,f as k,h as u,s as f,C as x,i as _,j as N,k as g,l as V,I as y,z as $,r as E,J as U,m as j}from"./sharp-BzqWd9f1.js";import{_ as S,a as c,b as T}from"./FormItem.vue_vue_type_script_setup_true_lang-D4yfueEN.js";import{_ as q}from"./Title.vue_vue_type_script_setup_true_lang-DnOZsG9R.js";import{_ as z}from"./TemplateRenderer.vue_vue_type_script_setup_true_lang-BhoP5pFx.js";import"./CardDescription.vue_vue_type_script_setup_true_lang-D9kp6scJ.js";const D={class:"grid gap-4"},J={class:"flex items-center"},L=["href"],M={class:"flex items-center space-x-2"},O={key:2,class:"mt-4"},P=C({__name:"Login",props:{loginIsEmail:{type:Boolean},message:{},prefill:{}},setup(B){var b,w;const h=B,t=I({login:(b=h.prefill)==null?void 0:b.login,password:(w=h.prefill)==null?void 0:w.password,remember:!1});return(d,o)=>(n(),p(S,null,{default:s(()=>[a(q,null,{default:s(()=>[r(l(e(i)("sharp::pages/auth/login.title")),1)]),_:1}),e(t).hasErrors?(n(),p(e(v),{key:0,class:"mb-4",variant:"destructive"},{default:s(()=>[a(e(k),{class:"mb-0"},{default:s(()=>[r(l(Object.values(e(t).errors)[0]),1)]),_:1})]),_:1})):u("",!0),e(f)("status")?(n(),p(e(v),{key:1,class:"mb-4",variant:e(f)("status_level")==="error"?"destructive":"default"},{default:s(()=>[e(f)("status_level")!=="error"?(n(),p(e(x),{key:0,class:"w-4 h-4"})):u("",!0),a(e(k),{class:"mb-0"},{default:s(()=>[r(l(e(f)("status")),1)]),_:1})]),_:1},8,["variant"])):u("",!0),_("form",{onSubmit:o[3]||(o[3]=j(m=>e(t).post(e(E)("code16.sharp.login.post")),["prevent"]))},[a(T,null,{title:s(()=>[r(l(e(i)("sharp::pages/auth/login.title")),1)]),footer:s(()=>[a(e(N),{type:"submit",class:"w-full"},{default:s(()=>[r(l(e(i)("sharp::pages/auth/login.button")),1)]),_:1})]),default:s(()=>[_("div",D,[a(e(c),null,{default:s(()=>[a(e(g),{for:"login"},{default:s(()=>[r(l(d.loginIsEmail?e(i)("sharp::pages/auth/login.login_field_for_email"):e(i)("sharp::pages/auth/login.login_field")),1)]),_:1}),a(e(V),{id:"login",type:d.loginIsEmail?"email":"text",autocomplete:d.loginIsEmail?"email":"username",modelValue:e(t).login,"onUpdate:modelValue":o[0]||(o[0]=m=>e(t).login=m),autofocus:""},null,8,["type","autocomplete","modelValue"])]),_:1}),a(e(c),null,{default:s(()=>[_("div",J,[a(e(g),{for:"password"},{default:s(()=>[r(l(e(i)("sharp::pages/auth/login.password_field")),1)]),_:1}),e(y)("sharp.auth.forgotten_password.enabled")?(n(),$("a",{key:0,href:e(E)("code16.sharp.password.request"),class:"ml-auto inline-block text-sm underline"},l(e(i)("sharp::pages/auth/login.forgot_password_link")),9,L)):u("",!0)]),a(e(V),{id:"password",type:"password",modelValue:e(t).password,"onUpdate:modelValue":o[1]||(o[1]=m=>e(t).password=m),autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),e(y)("sharp.auth.suggest_remember_me")?(n(),p(e(c),{key:0},{default:s(()=>[_("div",M,[a(e(U),{id:"remember_me",modelValue:e(t).remember,"onUpdate:modelValue":o[2]||(o[2]=m=>e(t).remember=m)},null,8,["modelValue"]),a(e(g),{for:"remember_me"},{default:s(()=>[r(l(e(i)("sharp::pages/auth/login.remember")),1)]),_:1})])]),_:1})):u("",!0)])]),_:1})],32),d.message?(n(),$("div",O,[a(z,{template:d.message},null,8,["template"])])):u("",!0)]),_:1}))}});export{P as default};
